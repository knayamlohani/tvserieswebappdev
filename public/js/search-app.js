(function(){var e,a;a="",$("window").ready(function(){return $("body").css("font-size",""+15/1280*screen.width+"px"),"MacIntel"!==navigator.platform&&$("html").niceScroll(),$("#search-field").on("focus",function(e){$("#close-distraction-free-search-mode i").removeClass("display-none"),$("#search-field").removeClass("animate-search-field restore-search-field"),$("#div-blur-layer").removeClass("animate-blur-layer restore-blur-layer"),$("#div-search-section").removeClass("animate-search-section restore-search-section"),$("#search-field").addClass("animate-search-field"),$("#div-blur-layer").addClass("animate-blur-layer"),$("#div-search-section").addClass("animate-search-section")}),$("#close-distraction-free-search-mode i").on("click",function(e){$(".progress-indicator").toggleClass("display-none"),$(this).toggleClass("display-none"),$("#div-search-section").addClass("restore-search-section"),$("#search-field").addClass("restore-search-field"),$("#div-blur-layer").addClass("restore-blur-layer"),$("#search-results-container").empty()}),$("#search-field").on("keyup",function(e){13===e.keyCode&&($(".progress-indicator").removeClass("display-none"),console.log("search"))})}),e=angular.module("search-app",[]),e.controller("controller",["$scope","$http",function(e,r){return e.appData={},e.appBehavior={},e.appData.allSearchResultsData=[],e.appData.progressIndicatorStatus=!1,e.appData.currentArtworkUrl="",e.appData.searchRequestCompletedStatus=!1,e.appData.user={"first-name":"",email:"",username:"","signed-in":""},e.appBehavior.onKeyUp=function(s){var t;13===s.keyCode&&(console.log(e.appData.searchQuery),e.appData.progressIndicatorStatus=!0,e.appData.searchRequestCompletedStatus=!1,a=encodeURIComponent(e.appData.searchQuery),t="/series/seriesName/"+a,r.get(t).success(function(a){var s,n,o,i,l,c;if(e.appData.progressIndicatorStatus=!1,a.seriesArray)for(s={currentSearchQuery:e.appData.searchQuery,currentSearchResults:[]},e.appData.allSearchResultsData.push(s),c=a.seriesArray,o=function(a,s){r.get(t).success(function(r){var t,n,o;for(console.log(a.name),n=0,o=r.length;o>n;n++)if(t=r[n],console.log("windows.availheight",window.innerWidth),"poster"===t.type){s.currentSearchResults.push({name:a.name,id:a.id,bannerUrl:t.url,altBannerUrl:a.banner,currentBannerUrl:window.innerWidth<=800?a.banner:t.url});break}e.appData.searchRequestCompletionStatus=!0})},i=0,l=c.length;l>i;i++)n=c[i],t="/series/seriesId/"+n.id+"/banners",o(n,s);else console.log("no matching results found")}))},e.appBehavior.viewSeries=function(a){return void console.log("series clicked");return e.appBehavior.restAppData=function(){e.appData.allSearchResultsData=[],e.appData.searchQuery=""}},e.appBehavior.ifDataAvailable=function(e){return console.log(e),e&&e.length()>0?!0:!1}}]),e.directive("currentSearchResultsDirective",function(){return function(e,a,r){window.setTimeout(function(){return $("#div-blur-layer").css("height",$("#div-search-section").css("height"))},4e3)}}),$(window).resize(function(){var e;e=angular.element("#div-search-section").scope(),e.$apply(window.innerWidth<=800?function(){var a,r,s,t,n,o,i,l;for(i=e.appData.allSearchResultsData,s=0,n=i.length;n>s;s++)for(a=i[s],l=a.currentSearchResults,t=0,o=l.length;o>t;t++)r=l[t],r.currentBannerUrl=r.altBannerUrl}:function(){var a,r,s,t,n,o,i,l;for(i=e.appData.allSearchResultsData,s=0,n=i.length;n>s;s++)for(a=i[s],l=a.currentSearchResults,t=0,o=l.length;o>t;t++)r=l[t],r.currentBannerUrl=r.bannerUrl})})}).call(this);
//# sourceMappingURL=./search-app.js.map